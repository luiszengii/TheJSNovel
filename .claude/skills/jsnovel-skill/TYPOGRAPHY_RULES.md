# 排版规则铁律

排版可读性是 TheJSNovel 内容质量的基础保障。以下 9 条规则**必须严格遵守**，以提升阅读体验。

---

## 规则 1: 中英文/数字间距

中文与英文、数字、代码之间**必须**添加空格。

### ✅ 正确示例

- `JavaScript 的数组方法`
- `共有 3247 笔交易`
- `使用 sort() 方法`
- `在 Chrome 110+ 版本`
- `第 56 次记录`
- `IEEE 754 标准`

### ❌ 错误示例

- `JavaScript的数组方法`（缺少空格）
- `共有3247笔交易`（缺少空格）
- `使用sort()方法`（缺少空格）

---

## 规则 2: 标点符号后空格

标点符号（逗号、句号、冒号、分号等）后面**必须**添加空格，无论后面是中文还是英文。

### ✅ 正确示例

- `"内存泄漏！" 你惊呼`（感叹号后有空格）
- `0.1 + 0.2 不等于 0.3, 这是 IEEE 754 标准的特性`（逗号后有空格）
- `老张说: "用 WeakMap 解决"`（冒号后有空格）
- `测试完成; 结果正常`（分号后有空格）

### ❌ 错误示例

- `"内存泄漏！"你惊呼`（缺少空格）
- `老张说:"用 WeakMap"`（缺少空格）
- `测试完成;结果正常`（缺少空格）

### 例外

中文句末标点后换行或结尾时不需要空格。

---

## 规则 3: 标点符号的选择

### 使用规则

- **中文环境**：使用中文标点 `，。！？：；""''（）【】`
- **英文环境**：使用英文标点 `,.!?:;"'()`
- **代码/专有名词**：内部使用英文标点，外部用中文标点

### ✅ 正确示例

- `JavaScript 的 Map 对象，比 Object 快 5 倍。`（中文逗号、句号）
- `"你说得对，" 老张点头，"应该用 WeakMap。"`（中文引号、逗号）
- `函数 process(task) 返回结果`（英文括号紧贴英文函数名）

### ❌ 错误示例

- `JavaScript 的 Map 对象,比 Object 快 5 倍.`（用了英文标点）
- `"你说得对," 老张点头`（混用中英文标点）

---

## 规则 4: 引号的使用

### 使用规则

- **对话/引用**：使用中文直角引号 `""`
- **强调/术语**：使用反引号 `` ` ` `` 或中文引号 `""`
- **代码**：始终使用反引号 `` ` ` ``

### ✅ 正确示例

- `"我明白了，" 小陈说` （对话用中文引号）
- `这就是 "弱引用" 的概念` （术语用中文引号或反引号）
- 使用 `WeakMap` 解决问题 （代码用反引号）

### ❌ 错误示例

- `"我明白了," 小陈说` （混用）
- `使用 "WeakMap" 解决问题` （代码应该用反引号）

---

## 规则 5: 数字与单位的空格

### 使用规则

- 数字与**中文单位**之间**添加空格**
- 数字与**英文单位**之间**不添加空格**

### ✅ 正确示例

- `响应时间 500ms` （英文单位不加空格）
- `内存占用 1.2GB` （英文单位不加空格）
- `运行了 2 小时` （中文单位加空格）
- `共 3247 笔交易` （中文量词加空格）
- `第 56 章` （中文量词加空格）

### ❌ 错误示例

- `响应时间 500 ms` （英文单位不该加空格）
- `运行了 2小时` （中文单位缺少空格）
- `第56章` （缺少空格）

---

## 规则 6: 专有名词大小写

技术术语必须保持正确的大小写格式。

### ✅ 正确示例

- `JavaScript`, `TypeScript`, `Node.js`
- `GitHub`, `GitLab`, `React`, `Vue.js`
- `WeakMap`, `WeakSet`, `Map`, `Set`
- `JSON`, `API`, `HTTP`, `HTTPS`
- `iOS`, `macOS`, `Android`

### ❌ 错误示例

- `javascript`, `Typescript`, `nodejs`
- `github`, `react`, `vue`
- `weakmap`, `json`, `api`

---

## 规则 7: 破折号的使用

### 使用规则

- **语气停顿/解释说明**：使用中文破折号 `——`（两个全角横线）
- **范围/连接**：使用短横线 `-`

### ✅ 正确示例

- `内存占用 —— 从 50MB 到 1.2GB` （停顿/强调）
- `ES6-ES2023 新特性` （范围）
- `前端-后端通信` （连接）

### ❌ 错误示例

- `内存占用--从 50MB 到 1.2GB` （应该用 `——`）
- `ES6——ES2023` （范围应该用 `-`）

---

## 规则 8: 代码块前后空行

代码块前后**必须**有空行，与正文分隔。

### ✅ 正确示例

```markdown
你打开控制台，输入测试代码：

\```javascript
const map = new Map();
\```

测试结果让你震惊。
```

### ❌ 错误示例

```markdown
你打开控制台，输入测试代码：
\```javascript
const map = new Map();
\```
测试结果让你震惊。
```

---

## 规则 9: 省略号的使用

### 使用规则

- **中文环境**：使用 `...`（三个英文句点）或 `…`（省略号字符）
- **保持一致性**：同一项目内统一使用一种

### ✅ 正确示例

- `"这样啊..." 你若有所思` （统一用三点）
- `加载中...` （动态提示）

---

## 适用范围

### ✅ 这些规则适用于

- 所有章节正文
- 章节标题
- 对话内容
- 代码注释中的中文说明
- 知识总结部分
- 表格内容

### ❌ 例外情况

- 纯代码块内部的代码逻辑
- 特定技术术语（如 `utf8mb4`）
- URL 和文件路径

---

## 排版检查清单

在发布每章前，必须检查：

### 基础排版
- [ ] 中英文之间有空格
- [ ] 数字与中文之间有空格
- [ ] 标点符号后有空格
- [ ] 使用了正确的中文标点

### 引号和代码
- [ ] 对话使用中文引号 `""`
- [ ] 代码使用反引号 `` ` ` ``
- [ ] 代码块前后有空行

### 专业性
- [ ] 技术术语大小写正确
- [ ] 破折号使用正确
- [ ] 数字单位空格正确
- [ ] 省略号使用一致

---

## 常见错误类型

### 类型 1: 忘记空格

**问题**: 中英文之间缺少空格
```markdown
❌ JavaScript的闭包机制
✅ JavaScript 的闭包机制

❌ 共有3247笔记录
✅ 共有 3247 笔记录
```

### 类型 2: 标点混用

**问题**: 中英文标点混用
```markdown
❌ "你说得对," 老张点头
✅ "你说得对，" 老张点头

❌ JavaScript的Map对象,比Object快.
✅ JavaScript 的 Map 对象，比 Object 快。
```

### 类型 3: 引号错误

**问题**: 代码使用中文引号
```markdown
❌ 使用 "WeakMap" 解决问题
✅ 使用 `WeakMap` 解决问题

❌ 调用 "getElementById" 方法
✅ 调用 `getElementById` 方法
```

### 类型 4: 大小写错误

**问题**: 技术术语大小写错误
```markdown
❌ javascript, typescript, nodejs
✅ JavaScript, TypeScript, Node.js

❌ github, react, vue
✅ GitHub, React, Vue.js
```

---

## 自动化工具建议

### 编辑器插件

推荐使用支持中文排版检查的编辑器插件：
- VS Code: Chinese (Simplified) Language Pack
- VS Code: Pangu (自动添加空格)
- Markdown Linting 工具

### 在线检查工具

- **Pangu.js**: https://github.com/vinta/pangu.js （自动添加空格）
- **中文文案排版指北**: https://github.com/mzlogin/chinese-copywriting-guidelines

---

## 总结

**排版三原则**:
1. **可读性**: 排版服务于阅读体验
2. **一致性**: 全文保持统一的排版风格
3. **专业性**: 体现技术内容的专业水准

**记住**: 良好的排版是对读者的尊重，也是专业内容的基本要求。当不确定时，参考本文档的规则和示例。
